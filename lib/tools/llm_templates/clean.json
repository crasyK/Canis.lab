{
    "step": {
        "name": "clean",
        "data_markers": {
            "in":  {"criteria_verbose":"str","criteria_array":"list","dirty_data":"str"},
            "out": {"data_classification":"json_data"}
        }
    },
    "call": {
        "custom_id": "{index}",
        "method": "POST",
        "url": "/v1/responses",
        "body": {
            "model": "gpt-5",
            "input": [
                {"role": "system", "content": "Decide if following data fullfills the following criteria: {criteria}. Return a JSON object with the following fields: 'status' (select one of {criteria_array} according to the criteria)"},
                {"role": "user", "content": "{dirty_data}"}
            ],
            "text": {
                "format": {
                    "response_format": {
                    "type": "json_schema",
                    "json_schema": {
                        "name": "data_classification",
                        "strict": true,
                        "schema": {
                        "type": "object",
                        "properties": {
                            "status": {
                            "type": "string",
                            "description": "Classification status of the data.",
                            "enum": {criteria_array}
                            }
                        },
                        "required": ["status"],
                        "additionalProperties": false
                        }
                    }
                    }
                }
            }
        }
    }
}
